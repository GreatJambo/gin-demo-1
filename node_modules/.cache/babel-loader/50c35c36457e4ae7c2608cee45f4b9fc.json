{"remainingRequest":"/home/pan/Work/src/html/jkdev-vue/node_modules/babel-loader/lib/index.js!/home/pan/Work/src/html/jkdev-vue/node_modules/eslint-loader/index.js??ref--13-0!/home/pan/Work/src/html/jkdev-vue/src/router/index.js","dependencies":[{"path":"/home/pan/Work/src/html/jkdev-vue/src/router/index.js","mtime":1588399824790},{"path":"/home/pan/Work/src/html/jkdev-vue/node_modules/cache-loader/dist/cjs.js","mtime":1587271952385},{"path":"/home/pan/Work/src/html/jkdev-vue/node_modules/babel-loader/lib/index.js","mtime":1587271952408},{"path":"/home/pan/Work/src/html/jkdev-vue/node_modules/eslint-loader/index.js","mtime":1587271959038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvcGFuL1dvcmsvc3JjL2h0bWwvamtkZXYtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCB1c2VyUm91dGVzIGZyb20gJy4vbW9kdWxlL3VzZXInOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvSG9tZScsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9hYm91dCcsCiAgbmFtZTogJ0Fib3V0JywKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICcuLi92aWV3cy9BYm91dC52dWUnKTsKICB9Cn1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodXNlclJvdXRlcykpOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubWV0YS5hdXRoKSB7CiAgICAvLyDliKTmlq3mmK/lkKbpnIDopoHnmbvlvZUKICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpueZu+W9lQogICAgaWYgKHN0b3JlLnN0YXRlLnVzZXJNb2R1bGUudG9rZW4pIHsKICAgICAgLy8g6L+Z6YeM6L+Y6KaB5Yik5patdG9rZW7nmoTmnInmlYjmgKfvvIzmr5TlpoLmnInmsqHmnInov4fmnJ/vvIzpnIDopoHlkI7lj7Dlj5HmlL50b2tlbueahOaXtuWAmeaQuuW4pueahOacieaViOacnwogICAgICAvLyDlpoLmnpx0b2tlbuaXoOaViO+8jOmcgOimgeivt+axgnRva2VuCiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOi3s+i9rOeZu+W9lQogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2xvZ2luJwogICAgICB9KTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/pan/Work/src/html/jkdev-vue/src/router/index.js"],"names":["Vue","VueRouter","store","Home","userRoutes","use","routes","path","name","component","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","meta","auth","state","userModule","token","push"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AAEA,IAAMK,MAAM,IACV;AACEC,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CADU,EAMV;AACEI,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,wBAAvC,CAAN;AAAA;AANb,CANU,4BAcPL,UAdO,EAAZ;AAiBA,IAAMM,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BU,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BT,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAI,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,IAAH,CAAQC,IAAZ,EAAkB;AAAE;AAClB;AACA,QAAInB,KAAK,CAACoB,KAAN,CAAYC,UAAZ,CAAuBC,KAA3B,EAAkC;AAChC;AACA;AACAL,MAAAA,IAAI;AACL,KAJD,MAIO;AACL;AACAT,MAAAA,MAAM,CAACe,IAAP,CAAY;AAAEjB,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;AACF,GAVD,MAUO;AACLW,IAAAA,IAAI;AACL;AACF,CAdD;AAgBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\nimport Home from '../views/Home.vue';\nimport userRoutes from './module/user';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/Home',\n    name: 'Home',\n    component: Home,\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\n  },\n  ...userRoutes,\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.auth) { // 判断是否需要登录\n    // 判断用户是否登录\n    if (store.state.userModule.token) {\n      // 这里还要判断token的有效性，比如有没有过期，需要后台发放token的时候携带的有效期\n      // 如果token无效，需要请求token\n      next();\n    } else {\n      // 跳转登录\n      router.push({ name: 'login' });\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}